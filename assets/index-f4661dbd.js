(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function a(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(t){if(t.ep)return;t.ep=!0;const o=a(t);fetch(t.href,o)}})();function M(s){return fetch(s).then(e=>e.json()).then(e=>e)}function T(s,e,a,n,t){return s.results.filter(c=>{if(e!==""&&!c.title.toLowerCase().includes(e))return!1;if(a){const l=new Date(c.published_at).toDateString(),r=new Date(a).toDateString();if(l!==r)return!1}return!(n&&(!c.events||c.events.length===0)||t&&(!c.launches||c.launches.length===0))})}function P(s){const e={};s.forEach(n=>{const t=n.news_site;e[t]?e[t]+=1:e[t]=1});const a=document.getElementById("source-chips");a&&(a.innerHTML=Object.entries(e).map(([n,t])=>`<li class="chip">${n} (${t})`).join("")+"</li>".repeat(Object.keys(e).length))}function k(s){const e=document.createElement("article");e.classList.add("container"),e.innerHTML=`
      <p>Title: ${s.title}</p>
      <p>URL: <a href="${s.url}" target="_blank">${s.url}</a></p>
      <p>Summary: ${s.summary}</p>
      <p>Source: ${s.source}</p>
      <p>Publish Date: ${s.publishDate}</p>
      <p>Has Event: ${s.hasEvent?"Yes":"No"}</p>
      <p>Has Launch: ${s.hasLaunch?"Yes":"No"}</p>
    `,document.querySelector("main").appendChild(e)}const R=document.getElementById("form");R.addEventListener("click",()=>{const s="./fep1-eindopdracht-bikcodes/src/view/pages/create-article-page.html",e=window.open(s,"Add Article Page","width=800,height=800");e.addEventListener("DOMContentLoaded",()=>{e.document.getElementById("addArticle").addEventListener("submit",n=>{n.preventDefault();const t=e.document.getElementById("title").value,o=e.document.getElementById("url").value,c=e.document.getElementById("summary").value,l=e.document.getElementById("source").value,r=e.document.getElementById("publishDate").value,i=e.document.getElementById("formEvent").checked,h=e.document.getElementById("formLaunch").checked,m={title:t,url:o,summary:c,source:l,publishDate:r,hasEvent:i,hasLaunch:h};e.close(),k(m)})})});function A(s){const e=document.querySelector(".most-read-articles");if(!e){console.error("Element with class 'most-read-articles' not found.");return}e.innerHTML="";const a=[];s.forEach(n=>{const t=n.title,o=Math.floor(Math.random()*51);a.push({title:t,number:o})}),a.sort((n,t)=>t.number-n.number),a.slice(0,5).forEach(n=>{const t=document.createElement("li");t.textContent=`${n.title} (${n.number})`,e.appendChild(t)})}function y(s){const e={weekday:"short",month:"short",day:"numeric",year:"numeric"};return s.toLocaleDateString("en-US",e)}function E(){const s=new Date("2023-11-03T17:00:00").getTime(),e=new Date().getTime(),a=s-e,n=1e3,t=60,o=60,c=24,l=Math.floor(a/(n*t*o*c)),r=Math.floor(a%(n*t*o*c)/(n*t*o)),f=Math.floor(a%(n*t*o)/(n*t)),i=Math.floor(a%(n*t)/n),d=document.getElementById("countdown-timer");a>=0?d.innerHTML=`${l}d ${r}h ${f}m ${i}s`:d.innerHTML="Deadline passed"}function H(){fetch("https://api.spacexdata.com/v5/launches/latest").then(e=>e.json()).then(e=>{const a=e.links.patch.large,n=document.getElementById("launchImg");n.src=a}).catch(e=>{console.error("Error fetching data from SpaceX API: "+e)})}const O="https://api.spaceflightnewsapi.net/v4/articles/",U="https://api.spaceflightnewsapi.net/v4/blogs/",N="https://api.spaceflightnewsapi.net/v4/reports/",q=document.querySelector("#display-data"),v=document.querySelector("#input"),j=document.getElementById("articleRadio"),L=document.getElementById("blogRadio"),b=document.getElementById("reportRadio"),D=document.getElementById("inputDate"),$=document.getElementById("hasEvent"),I=document.getElementById("hasLaunch");function u(){const s=v.value.toLowerCase().trim(),e=D.value,a=$.checked,n=I.checked,t=document.querySelector('input[name="article_Type"]:checked');let o=O;t===L?o=U:t===b&&(o=N),M(o).then(c=>{const l=T(c,s,e,a,n);P(l);const r={};l.forEach(i=>{const d=i.news_site,h=new Date(i.published_at);(!r[d]||h>r[d].publishedDate)&&(r[d]={publishedDate:h,image_url:i.image_url,title:i.title,published_at:i.published_at})});const f=l.map(i=>{const{title:d,summary:h,news_site:m,image_url:p,updated_at:w}=i,B=r[m].image_url===p?`background-image: url(${p});`:"",g=r[m].image_url!==p?`<img src="${p}" alt="Image">`:"",_=r[m].image_url===p?"newest":"",S=y(new Date(w)).replace(/,/g,""),C=y(new Date(i.published_at)).replace(/,/g,"");return r[m].published_at===i.published_at?`
            <div class="containerLatestArticle ${_}" style="${B}">
              <h1>${d}</h1>
              <h2>${C}</h2>
              ${g}
            </div>
            <hr>
          `:`
          <div class="containerDisplay">
            <h2>${d}</h2>
            <h3>${h}</h3>
            <div>Source: ${m}</div>
            <p>Updated At: ${S}</p>
            ${g}
          </div>
          <hr>
        `}).join("");q.innerHTML=f,A(l)})}v.addEventListener("input",()=>{u()});j.addEventListener("click",u);L.addEventListener("click",u);b.addEventListener("click",u);D.addEventListener("input",u);$.addEventListener("change",u);I.addEventListener("change",u);H();E();setInterval(E,1e3);u();
