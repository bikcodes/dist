(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}})();function D(s){return fetch(s).then(t=>t.json()).then(t=>t)}function B(s,t,n,a,e){return s.results.filter(c=>{if(t!==""&&!c.title.toLowerCase().includes(t))return!1;if(n){const l=new Date(c.published_at).toDateString(),r=new Date(n).toDateString();if(l!==r)return!1}return!(a&&(!c.events||c.events.length===0)||e&&(!c.launches||c.launches.length===0))})}function $(s){const t={};s.forEach(a=>{const e=a.news_site;t[e]?t[e]+=1:t[e]=1});const n=document.getElementById("source-chips");n&&(n.innerHTML=Object.entries(t).map(([a,e])=>`<div class="chip">${a} (${e})`).join("")+"</div>".repeat(Object.keys(t).length))}function C(s){const t=document.createElement("article");t.classList.add("container"),t.innerHTML=`
      <p>Title: ${s.title}</p>
      <p>URL: <a href="${s.url}" target="_blank">${s.url}</a></p>
      <p>Summary: ${s.summary}</p>
      <p>Source: ${s.source}</p>
      <p>Publish Date: ${s.publishDate}</p>
      <p>Has Event: ${s.hasEvent?"Yes":"No"}</p>
      <p>Has Launch: ${s.hasLaunch?"Yes":"No"}</p>
    `,document.querySelector("main").appendChild(t)}const _=document.getElementById("form");_.addEventListener("click",()=>{const t=window.location.hostname==="localhost"?"./fep1-eindopdracht-bikcodes/src/view/pages/create-article-page.html":"https://hu-sd-sdu2fep1-studenten-2023.github.io/fep1-eindopdracht-bikcodes/src/view/pages/create-article-page.html",n=window.open(t,"Add Article Page","width=800,height=800");n.addEventListener("DOMContentLoaded",()=>{n.document.getElementById("addArticle").addEventListener("submit",e=>{e.preventDefault();const o=n.document.getElementById("title").value,c=n.document.getElementById("url").value,l=n.document.getElementById("summary").value,r=n.document.getElementById("source").value,f=n.document.getElementById("publishDate").value,d=n.document.getElementById("formEvent").checked?"Yes":"No",h=n.document.getElementById("formLaunch").checked?"Yes":"No",u={title:o,url:c,summary:l,source:r,publishDate:f,hasEvent:d,hasLaunch:h};n.close(),C(u)})})});const k="https://api.spaceflightnewsapi.net/v4/articles/",S="https://api.spaceflightnewsapi.net/v4/blogs/",O="https://api.spaceflightnewsapi.net/v4/reports/",R=document.querySelector("#display-data"),g=document.querySelector("#input"),N=document.getElementById("articleRadio"),y=document.getElementById("blogRadio"),E=document.getElementById("reportRadio"),v=document.getElementById("inputDate"),L=document.getElementById("hasEvent"),b=document.getElementById("hasLaunch");function i(){const s=g.value.toLowerCase().trim(),t=v.value,n=L.checked,a=b.checked,e=document.querySelector('input[name="article_Type"]:checked');let o=k;e===y?o=S:e===E&&(o=O),D(o).then(c=>{const l=B(c,s,t,n,a);$(l);const r={};l.forEach(p=>{const d=p.news_site,m=new Date(p.published_at);(!r[d]||m>r[d].publishedDate)&&(r[d]={publishedDate:m,image_url:p.image_url})});const f=l.map(p=>{const{title:d,summary:m,news_site:h,image_url:u}=p,I=r[h].image_url===u?`background-image: url(${u});`:"",w=r[h].image_url!==u?`<img src="${u}" alt="Image">`:"";return`
            <div class="container ${r[h].image_url===u?"newest":""}" style="${I}">
              <p>Title: ${d}</p>
              <p>Summary: ${m}</p>
              ${w}
            </div>
            <hr>
          `}).join("");R.innerHTML=f})}g.addEventListener("input",()=>{i()});N.addEventListener("click",i);y.addEventListener("click",i);E.addEventListener("click",i);v.addEventListener("input",i);L.addEventListener("change",i);b.addEventListener("change",i);i();
