(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function a(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(e){if(e.ep)return;e.ep=!0;const o=a(e);fetch(e.href,o)}})();function D(s){return fetch(s).then(t=>t.json()).then(t=>t)}function B(s,t,a,n,e){return s.results.filter(c=>{if(t!==""&&!c.title.toLowerCase().includes(t))return!1;if(a){const l=new Date(c.published_at).toDateString(),r=new Date(a).toDateString();if(l!==r)return!1}return!(n&&(!c.events||c.events.length===0)||e&&(!c.launches||c.launches.length===0))})}function $(s){const t={};s.forEach(n=>{const e=n.news_site;t[e]?t[e]+=1:t[e]=1});const a=document.getElementById("source-chips");a&&(a.innerHTML=Object.entries(t).map(([n,e])=>`<div class="chip">${n} (${e})`).join("")+"</div>".repeat(Object.keys(t).length))}function C(s){const t=document.createElement("article");t.classList.add("container"),t.innerHTML=`
      <p>Title: ${s.title}</p>
      <p>URL: <a href="${s.url}" target="_blank">${s.url}</a></p>
      <p>Summary: ${s.summary}</p>
      <p>Source: ${s.source}</p>
      <p>Publish Date: ${s.publishDate}</p>
      <p>Has Event: ${s.hasEvent?"Yes":"No"}</p>
      <p>Has Launch: ${s.hasLaunch?"Yes":"No"}</p>
    `,document.querySelector("main").appendChild(t)}const _=document.getElementById("form");_.addEventListener("click",()=>{const s=window.location.origin,t="/fep1-eindopdracht-bikcodes/src/view/pages/create-article-page.html",a=new URL(t,s).href,n=window.open(a,"Add Article Page","width=800,height=800");n.addEventListener("DOMContentLoaded",()=>{n.document.getElementById("addArticle").addEventListener("submit",o=>{o.preventDefault();const c=n.document.getElementById("title").value,l=n.document.getElementById("url").value,r=n.document.getElementById("summary").value,f=n.document.getElementById("source").value,d=n.document.getElementById("publishDate").value,m=n.document.getElementById("formEvent").checked?"Yes":"No",u=n.document.getElementById("formLaunch").checked?"Yes":"No",g={title:c,url:l,summary:r,source:f,publishDate:d,hasEvent:m,hasLaunch:u};n.close(),C(g)})})});const S="https://api.spaceflightnewsapi.net/v4/articles/",k="https://api.spaceflightnewsapi.net/v4/blogs/",R="https://api.spaceflightnewsapi.net/v4/reports/",P=document.querySelector("#display-data"),y=document.querySelector("#input"),O=document.getElementById("articleRadio"),E=document.getElementById("blogRadio"),v=document.getElementById("reportRadio"),L=document.getElementById("inputDate"),b=document.getElementById("hasEvent"),I=document.getElementById("hasLaunch");function i(){const s=y.value.toLowerCase().trim(),t=L.value,a=b.checked,n=I.checked,e=document.querySelector('input[name="article_Type"]:checked');let o=S;e===E?o=k:e===v&&(o=R),D(o).then(c=>{const l=B(c,s,t,a,n);$(l);const r={};l.forEach(d=>{const p=d.news_site,m=new Date(d.published_at);(!r[p]||m>r[p].publishedDate)&&(r[p]={publishedDate:m,image_url:d.image_url})});const f=l.map(d=>{const{title:p,summary:m,news_site:h,image_url:u}=d,g=r[h].image_url===u?`background-image: url(${u});`:"",w=r[h].image_url!==u?`<img src="${u}" alt="Image">`:"";return`
            <div class="container ${r[h].image_url===u?"newest":""}" style="${g}">
              <p>Title: ${p}</p>
              <p>Summary: ${m}</p>
              ${w}
            </div>
            <hr>
          `}).join("");P.innerHTML=f})}y.addEventListener("input",()=>{i()});O.addEventListener("click",i);E.addEventListener("click",i);v.addEventListener("click",i);L.addEventListener("input",i);b.addEventListener("change",i);I.addEventListener("change",i);i();
